var __extends = (this && this.__extends) || (function () {
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
        return extendStatics(d, b);
    };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
import * as elements from '@yellicode/elements';
var CSharpTypeNameProvider = /** @class */ (function (_super) {
    __extends(CSharpTypeNameProvider, _super);
    function CSharpTypeNameProvider() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    CSharpTypeNameProvider.prototype.getTypeNameForType = function (type, isDataType) {
        if (!type)
            return null;
        if (isDataType) {
            if (elements.isPrimitiveBoolean(type))
                return "bool";
            if (elements.isPrimitiveInteger(type))
                return "int";
            if (elements.isPrimitiveReal(type))
                return "double"; // By default, a real numeric literal on the right side of the assignment operator is treated as double (https://msdn.microsoft.com/en-us/library/b1e65aza.aspx)
            if (elements.isPrimitiveString(type))
                return "string";
            if (elements.isPrimitiveObject(type))
                return "object";
        }
        return _super.prototype.getTypeNameForType.call(this, type, isDataType);
    };
    CSharpTypeNameProvider.canBeNullable = function (typedElement, csTypeName) {
        if (!typedElement || !csTypeName)
            return false;
        // A collection cannot be nullable
        if (elements.isMultiplicityElement(typedElement) && typedElement.isMultivalued()) {
            return false;
        }
        // Check the mapped type name (it could come from a custom TypeNameProvider) 
        switch (csTypeName) { // the following cannot be nullable:
            case 'string':
            case 'System.String':
            case 'object':
            case 'System.Object':
                return false;
        }
        // Check the type itself
        var type = typedElement.type;
        if (!type)
            return false;
        return elements.isEnumeration(type) || elements.isDataType(type); // isDataType includes PrimitiveType      
    };
    return CSharpTypeNameProvider;
}(elements.DefaultTypeNameProvider));
export { CSharpTypeNameProvider };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3NoYXJwLXR5cGUtbmFtZS1wcm92aWRlci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jc2hhcnAtdHlwZS1uYW1lLXByb3ZpZGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFBQSxPQUFPLEtBQUssUUFBUSxNQUFNLHFCQUFxQixDQUFDO0FBRWhEO0lBQTRDLDBDQUFnQztJQUE1RTs7SUF1Q0EsQ0FBQztJQXRDMEIsbURBQWtCLEdBQXpDLFVBQTBDLElBQTBCLEVBQUUsVUFBbUI7UUFDckYsSUFBSSxDQUFDLElBQUk7WUFBRSxPQUFPLElBQUksQ0FBQztRQUV2QixJQUFJLFVBQVUsRUFBRTtZQUNaLElBQUksUUFBUSxDQUFDLGtCQUFrQixDQUFDLElBQUksQ0FBQztnQkFBRSxPQUFPLE1BQU0sQ0FBQztZQUNyRCxJQUFJLFFBQVEsQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUM7Z0JBQUUsT0FBTyxLQUFLLENBQUM7WUFDcEQsSUFBSSxRQUFRLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQztnQkFBRSxPQUFPLFFBQVEsQ0FBQyxDQUFDLGdLQUFnSztZQUNyTixJQUFJLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQyxJQUFJLENBQUM7Z0JBQUUsT0FBTyxRQUFRLENBQUM7WUFDdEQsSUFBSSxRQUFRLENBQUMsaUJBQWlCLENBQUMsSUFBSSxDQUFDO2dCQUFFLE9BQU8sUUFBUSxDQUFDO1NBQ3pEO1FBRUQsT0FBTyxpQkFBTSxrQkFBa0IsWUFBQyxJQUFJLEVBQUUsVUFBVSxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQUVhLG9DQUFhLEdBQTNCLFVBQTRCLFlBQW1DLEVBQUUsVUFBa0I7UUFDL0UsSUFBSSxDQUFDLFlBQVksSUFBSSxDQUFDLFVBQVU7WUFDNUIsT0FBTyxLQUFLLENBQUM7UUFFakIsa0NBQWtDO1FBQ2xDLElBQUksUUFBUSxDQUFDLHFCQUFxQixDQUFDLFlBQVksQ0FBQyxJQUFJLFlBQVksQ0FBQyxhQUFhLEVBQUUsRUFBQztZQUM3RSxPQUFPLEtBQUssQ0FBQztTQUNoQjtRQUVELDZFQUE2RTtRQUM3RSxRQUFRLFVBQVUsRUFBRSxFQUFFLG9DQUFvQztZQUN0RCxLQUFLLFFBQVEsQ0FBQztZQUNkLEtBQUssZUFBZSxDQUFDO1lBQ3JCLEtBQUssUUFBUSxDQUFDO1lBQ2QsS0FBSyxlQUFlO2dCQUNoQixPQUFPLEtBQUssQ0FBQztTQUNwQjtRQUVELHdCQUF3QjtRQUN4QixJQUFNLElBQUksR0FBRyxZQUFZLENBQUMsSUFBSSxDQUFDO1FBQy9CLElBQUksQ0FBQyxJQUFJO1lBQUUsT0FBTyxLQUFLLENBQUM7UUFFeEIsT0FBTyxRQUFRLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxJQUFJLFFBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQywwQ0FBMEM7SUFDaEgsQ0FBQztJQUNMLDZCQUFDO0FBQUQsQ0FBQyxBQXZDRCxDQUE0QyxRQUFRLENBQUMsdUJBQXVCLEdBdUMzRSJ9