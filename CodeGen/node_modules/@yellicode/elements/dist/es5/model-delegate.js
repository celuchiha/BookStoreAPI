/*
 * Copyright (c) 2019 Yellicode
 *
 * This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at http://mozilla.org/MPL/2.0/.
 */
import * as Interfaces from "./interfaces";
import { ElementTypeUtility } from './utils';
import * as _ from 'lodash';
import { ElementComparerImpl } from "./element-comparer";
import * as utils from './utils';
/**
 * Internal class to which all behaviour of the model classes is delegated.
 */
var ModelDelegateImpl = /** @class */ (function () {
    function ModelDelegateImpl(elementMap) {
        this.elementMap = elementMap;
        // Note that elementMap is null when not initialized through the DataToModelConverter
    }
    // ************************  Document **************************** //     
    ModelDelegateImpl.prototype.findElementById = function (id) {
        if (!this.elementMap)
            return null;
        return this.elementMap.getElementById(id);
    };
    // **************************  Element ******************************* //     
    ModelDelegateImpl.prototype.getFirstCommentBody = function (element) {
        if (!element.ownedComments || element.ownedComments.length == 0)
            return ''; // return an empty string, no null or undefined, they are inconvenient when using template literals.      
        return element.ownedComments[0].body;
    };
    // ************************  TypedElement **************************** //     
    ModelDelegateImpl.prototype.getTypeName = function (typedElement) {
        if (!typedElement.type)
            return '';
        return typedElement.type.name;
    };
    // *****************************  Package **************************** //     
    ModelDelegateImpl.getPackagedElementsWhere = function (pack, predicate) {
        if (!pack.packagedElements)
            return [];
        return pack.packagedElements.filter(predicate);
    };
    ModelDelegateImpl.getAllPackagedElementsWhereRecursive = function (pack, predicate, result) {
        pack.packagedElements.forEach(function (e) {
            if (predicate(e)) {
                result.push(e);
            }
            if (ElementTypeUtility.isPackage(e.elementType) && e.packagedElements) {
                ModelDelegateImpl.getAllPackagedElementsWhereRecursive(e, predicate, result);
            }
        });
    };
    ModelDelegateImpl.getAllPackagedElementsWhere = function (pack, predicate) {
        var result = [];
        if (pack.packagedElements) {
            ModelDelegateImpl.getAllPackagedElementsWhereRecursive(pack, predicate, result);
        }
        return result;
    };
    ModelDelegateImpl.prototype.getNestedPackages = function (element) {
        return ModelDelegateImpl.getPackagedElementsWhere(element, function (pe) { return pe.elementType === Interfaces.ElementType.package; });
    };
    ModelDelegateImpl.prototype.getTypes = function (element) {
        return ModelDelegateImpl.getPackagedElementsWhere(element, function (pe) {
            // Technically, an Association is also a Type, but it does not seem to make much sense here
            return ElementTypeUtility.isType(pe.elementType) && !ElementTypeUtility.isAssociation(pe.elementType);
        });
    };
    ModelDelegateImpl.prototype.getAllTypes = function (element) {
        return ModelDelegateImpl.getAllPackagedElementsWhere(element, function (pe) {
            // Technically, an Association is also a Type, but it does not seem to make much sense here
            return ElementTypeUtility.isType(pe.elementType) && !ElementTypeUtility.isAssociation(pe.elementType);
        });
    };
    ModelDelegateImpl.prototype.getClasses = function (element) {
        return ModelDelegateImpl.getPackagedElementsWhere(element, function (pe) { return ElementTypeUtility.isClass(pe.elementType); });
    };
    ModelDelegateImpl.prototype.getAllClasses = function (element) {
        return ModelDelegateImpl.getAllPackagedElementsWhere(element, function (pe) { return ElementTypeUtility.isClass(pe.elementType); });
    };
    ModelDelegateImpl.prototype.getInterfaces = function (element) {
        return ModelDelegateImpl.getPackagedElementsWhere(element, function (pe) { return ElementTypeUtility.isInterface(pe.elementType); });
    };
    ModelDelegateImpl.prototype.getAllInterfaces = function (element) {
        return ModelDelegateImpl.getAllPackagedElementsWhere(element, function (pe) { return ElementTypeUtility.isInterface(pe.elementType); });
    };
    ModelDelegateImpl.prototype.getDataTypes = function (element) {
        return ModelDelegateImpl.getPackagedElementsWhere(element, function (pe) { return ElementTypeUtility.isDataType(pe.elementType); });
    };
    ModelDelegateImpl.prototype.getAllDataTypes = function (element) {
        return ModelDelegateImpl.getAllPackagedElementsWhere(element, function (pe) { return ElementTypeUtility.isDataType(pe.elementType); });
    };
    ModelDelegateImpl.prototype.getEnumerations = function (element) {
        return ModelDelegateImpl.getPackagedElementsWhere(element, function (pe) { return ElementTypeUtility.isEnumeration(pe.elementType); });
    };
    ModelDelegateImpl.prototype.getAllEnumerations = function (element) {
        return ModelDelegateImpl.getAllPackagedElementsWhere(element, function (pe) { return ElementTypeUtility.isEnumeration(pe.elementType); });
    };
    // ************************  PackageableElement **************************** //     
    ModelDelegateImpl.prototype.getPackage = function (packagedElement) {
        return packagedElement.owner;
    };
    /**
    * Gets all packages that own this Package, working inwards from the top Package to the owning package.
    * @returns {Interfaces.Package[]} A collection of Packages.
    */
    ModelDelegateImpl.prototype.getNestingPackages = function (packagedElement, stopAtNamespaceRoot) {
        // Work outwards, then reverse..
        var result = [];
        var owner = packagedElement.owner;
        while (owner && utils.isPackage(owner)) {
            result.push(owner);
            if (owner.isNamespaceRoot && stopAtNamespaceRoot === true) {
                break;
            }
            owner = owner.owner;
        }
        result.reverse();
        return result;
    };
    ModelDelegateImpl.prototype.getNamespaceName = function (packagedElement, separator) {
        if (separator === void 0) { separator = '.'; }
        return this.getNestingPackages(packagedElement, true).map(function (p) { return p.name; }).join(separator);
    };
    ModelDelegateImpl.prototype.getQualifiedName = function (packagedElement, separator) {
        if (separator === void 0) { separator = '.'; }
        var namespaceName = this.getNamespaceName(packagedElement, separator);
        return namespaceName ? "" + namespaceName + separator + packagedElement.name : packagedElement.name;
    };
    // ************************  Generalization **************************** //     
    ModelDelegateImpl.prototype.getSpecific = function (generalization) {
        return generalization.owner;
    };
    // **************************  Classifier ******************************* //     
    ModelDelegateImpl.prototype.getFirstGeneralization = function (classifier) {
        if (classifier.generalizations.length === 0)
            return null;
        return classifier.generalizations[0];
    };
    ModelDelegateImpl.prototype.getFirstParent = function (classifier) {
        var firstGeneralization = this.getFirstGeneralization(classifier);
        return (firstGeneralization) ? firstGeneralization.general : null;
    };
    ModelDelegateImpl.prototype.getParents = function (classifier) {
        return classifier.generalizations.map(function (g) { return g.general; });
    };
    /**
    * Returns all of the direct and indirect ancestors of a generalized Classifier, working outwards: more specific classifiers will
    * appear before more general classifiers.
    */
    ModelDelegateImpl.prototype.getAllParents = function (classifier) {
        var allParents = [];
        this.getAllParentsRecursive(classifier, allParents);
        return allParents;
    };
    ModelDelegateImpl.prototype.getAllParentsRecursive = function (classifier, allParents) {
        var _this = this;
        var ownParents = this.getParents(classifier);
        if (ownParents != null) {
            // More specific parents first.
            ownParents.forEach(function (p) {
                var ix = allParents.indexOf(p);
                // If the parent is already there, remove it and add it again at the end of the list.
                if (ix > -1) {
                    allParents.splice(ix, 1);
                }
                allParents.push(p);
            });
            // add the parents of each parent
            ownParents.forEach(function (p) {
                _this.getAllParentsRecursive(p, allParents);
            });
        }
    };
    ModelDelegateImpl.prototype.getSpecializations = function (classifier) {
        if (!this.elementMap)
            return [];
        return this.elementMap.getSpecializationsOf(classifier.id);
    };
    ModelDelegateImpl.prototype.getAllSpecializations = function (classifier) {
        if (!this.elementMap)
            return [];
        return this.elementMap.getAllSpecializationsOf(classifier.id);
    };
    // /**
    //  * Returns true if one classifier has the other as direct general.     
    //  */
    // private static hasGeneral(x: Interfaces.Classifier, y: Interfaces.Classifier): boolean {
    //     // TODO: recursive?
    //     const firstMatch = x.generalizations.find(g => g.general.id === y.id);
    //     return firstMatch ? true: false;    
    // }
    // ********************  MemberedClassifier **************************** //     
    ModelDelegateImpl.prototype.getAllAttributes = function (memberedClassifier) {
        var distinctClassifierIds = []; // keep this list to check against recursion
        var result = [];
        this.getAllAttributesRecursive(memberedClassifier, distinctClassifierIds, result);
        return result;
    };
    ModelDelegateImpl.prototype.getAllAttributesRecursive = function (memberedClassifier, distinctClassifierIds, result) {
        var _this = this;
        distinctClassifierIds.push(memberedClassifier.id);
        // First add the general members, then the owned
        memberedClassifier.generalizations.forEach(function (g) {
            var general = g.general;
            if (distinctClassifierIds.indexOf(general.id) === -1) {
                _this.getAllAttributesRecursive(general, distinctClassifierIds, result);
            }
        });
        // Now add the owned members
        result.push.apply(result, memberedClassifier.ownedAttributes);
    };
    ModelDelegateImpl.prototype.getAllOperations = function (memberedClassifier) {
        var distinctClassifierIds = []; // keep this list to check against recursion
        var result = [];
        this.getAllOperationsRecursive(memberedClassifier, distinctClassifierIds, result);
        return result;
    };
    ModelDelegateImpl.prototype.getAllOperationsRecursive = function (memberedClassifier, distinctClassifierIds, result) {
        var _this = this;
        distinctClassifierIds.push(memberedClassifier.id); // keep this list to check against recursion
        // First add the general members, then the owned
        memberedClassifier.generalizations.forEach(function (g) {
            var general = g.general;
            if (distinctClassifierIds.indexOf(general.id) === -1) {
                _this.getAllOperationsRecursive(general, distinctClassifierIds, result);
            }
        });
        // Now add the owned members. Replace any inherited members with the same signature
        memberedClassifier.ownedOperations.forEach(function (op) {
            // Is there an operation in the result that has the same signature? Then replace it.
            // TODO: can we set a "redefines" reference (referring to the base operation)?             
            _.remove(result, function (baseOperation) { return ElementComparerImpl.haveEqualSignatures(baseOperation, op); });
            result.push(op);
        });
    };
    // ************************  Class  **************************** //         
    ModelDelegateImpl.prototype.getSuperClasses = function (cls) {
        var result = [];
        if (!cls.generalizations)
            return result;
        cls.generalizations.forEach(function (g) {
            if (ElementTypeUtility.isClass(g.general.elementType)) {
                result.push(g.general);
            }
        });
        return result;
    };
    // ************************  MultiplicityElement **************************** //         
    ModelDelegateImpl.prototype.getLower = function (element) {
        // If element is an operation, return the lower of the return parameter
        var multiplicityElement = element.elementType === Interfaces.ElementType.operation ?
            element.getReturnParameter() :
            element;
        if (!multiplicityElement)
            return null; // the operation has no return parameter
        var lowerValue = multiplicityElement.lowerValue;
        if (!lowerValue)
            return null;
        switch (lowerValue.elementType) {
            case Interfaces.ElementType.literalInteger:
                return lowerValue.value;
            case Interfaces.ElementType.literalString:
                var stringValue = lowerValue.getStringValue();
                var parsed = Number.parseInt(stringValue);
                return isNaN(parsed) ? null : parsed;
            default:
                return null;
        }
    };
    ModelDelegateImpl.prototype.getUpper = function (element) {
        // If element is an operation, return the upper of the return parameter
        var multiplicityElement = element.elementType === Interfaces.ElementType.operation ?
            element.getReturnParameter() :
            element;
        if (!multiplicityElement)
            return null; // the operation has no return parameter
        var upperValue = multiplicityElement.upperValue;
        if (upperValue == null)
            return null;
        switch (upperValue.elementType) {
            case Interfaces.ElementType.literalString:
            case Interfaces.ElementType.literalInteger:
                var stringValue = upperValue.getStringValue();
                return new Interfaces.UnlimitedNatural(stringValue);
            case Interfaces.ElementType.literalUnlimitedNatural:
                return upperValue.value;
            default:
                return null;
        }
    };
    ModelDelegateImpl.prototype.getLowerBound = function (element) {
        var lower = this.getLower(element);
        // Do an explicit null check, allowing for 0. An unspecified lower means a lower bound of 1.
        return (lower === null) ? 1 : lower;
    };
    ModelDelegateImpl.prototype.getUpperBound = function (element) {
        var upper = this.getUpper(element);
        // Do an explicit null check, allowing for 0. An unspecified upper means an upper bound of 1.
        return (upper === null) ? new Interfaces.UnlimitedNatural(1) : upper;
    };
    ModelDelegateImpl.prototype.isMultivalued = function (element) {
        var upper = this.getUpper(element);
        if (!upper)
            return false;
        return upper.IsInfinity || upper.Value > 1;
    };
    ModelDelegateImpl.prototype.isOptional = function (element) {
        return this.getLowerBound(element) === 0;
    };
    ModelDelegateImpl.prototype.isOptionalAndSinglevalued = function (element) {
        if (this.getLowerBound(element) !== 0)
            return false; // not optional
        var upper = this.getUpperBound(element);
        return !upper.IsInfinity && upper.Value === 1;
    };
    ModelDelegateImpl.prototype.isRequiredAndSinglevalued = function (element) {
        if (this.getLowerBound(element) !== 1)
            return false; // not required
        var upper = this.getUpperBound(element);
        return !upper.IsInfinity && upper.Value === 1;
    };
    // ********************  Default values **************************** //     
    ModelDelegateImpl.prototype.getDefault = function (hasDefaultValue) {
        if (!hasDefaultValue.defaultValue)
            return null;
        return this.getValue(hasDefaultValue.defaultValue);
    };
    // ********************  ValueSpecification **************************** //     
    ModelDelegateImpl.prototype.getValue = function (valueSpecification) {
        if ("value" in valueSpecification) { // don't use hasOwnProperty here
            // The valueSpecification is a LiteralInteger, LiteralBoolean, etc.
            return valueSpecification["value"];
        }
        else
            return null; // The valueSpecification is a LiteralNull or an unsupported implementation
    };
    ModelDelegateImpl.prototype.getStringValue = function (valueSpecification) {
        var rawValue = valueSpecification.getValue();
        if (rawValue === null)
            return null;
        if (valueSpecification.elementType === Interfaces.ElementType.literalUnlimitedNatural) {
            return rawValue.stringValue();
        }
        return rawValue.toString();
    };
    // ********************  EnumerationLiteral **************************** //     
    ModelDelegateImpl.prototype.getEnumeration = function (literal) {
        return literal.owner;
    };
    ModelDelegateImpl.prototype.getSpecificationValue = function (literal) {
        if (!literal.specification)
            return null;
        return this.getValue(literal.specification);
    };
    // ********************  Property **************************** //     
    ModelDelegateImpl.prototype.getAssociation = function (property) {
        // The property can be owned by an association (association.ownedEnds) or by a classifier
        // If owned by an association, the path is short.
        if (utils.isAssociation(property.owner)) {
            return property.owner;
        }
        // The property is not owned by an association, but can still be part of one
        // (association.memberEnds)
        if (!this.elementMap)
            return null;
        return this.elementMap.getAssociationHavingMemberEnd(property);
    };
    // ********************  Operation **************************** //     
    ModelDelegateImpl.prototype.getReturnParameter = function (operation) {
        var val = operation.ownedParameters.find(function (p) { return p.direction === Interfaces.ParameterDirectionKind.return; });
        return val || null;
    };
    ModelDelegateImpl.prototype.getInputParameters = function (operation) {
        return operation.ownedParameters.filter(function (p) {
            return p.direction === Interfaces.ParameterDirectionKind.in
                || p.direction === Interfaces.ParameterDirectionKind.inout;
        });
    };
    ModelDelegateImpl.prototype.getOutputParameters = function (operation) {
        return operation.ownedParameters.filter(function (p) {
            return p.direction === Interfaces.ParameterDirectionKind.out
                || p.direction === Interfaces.ParameterDirectionKind.inout
                || p.direction === Interfaces.ParameterDirectionKind.return;
        });
    };
    ModelDelegateImpl.prototype.getReturnType = function (operation) {
        var returnParameter = this.getReturnParameter(operation);
        return returnParameter ? returnParameter.type : null;
    };
    return ModelDelegateImpl;
}());
export { ModelDelegateImpl };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZWwtZGVsZWdhdGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvbW9kZWwtZGVsZWdhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7OztHQU1HO0FBQ0gsT0FBTyxLQUFLLFVBQVUsTUFBTSxjQUFjLENBQUM7QUFDM0MsT0FBTyxFQUFFLGtCQUFrQixFQUFFLE1BQU0sU0FBUyxDQUFDO0FBQzdDLE9BQU8sS0FBSyxDQUFDLE1BQU0sUUFBUSxDQUFDO0FBQzVCLE9BQU8sRUFBRSxtQkFBbUIsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ3pELE9BQU8sS0FBSyxLQUFLLE1BQU0sU0FBUyxDQUFDO0FBSWpDOztHQUVHO0FBQ0g7SUFDSSwyQkFBb0IsVUFBNkI7UUFBN0IsZUFBVSxHQUFWLFVBQVUsQ0FBbUI7UUFDN0MscUZBQXFGO0lBQ3pGLENBQUM7SUFFRCwwRUFBMEU7SUFFbkUsMkNBQWUsR0FBdEIsVUFBdUIsRUFBVTtRQUM3QixJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVU7WUFBRSxPQUFPLElBQUksQ0FBQztRQUVsQyxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzlDLENBQUM7SUFFRCw4RUFBOEU7SUFFdkUsK0NBQW1CLEdBQTFCLFVBQTJCLE9BQTJCO1FBQ2xELElBQUksQ0FBQyxPQUFPLENBQUMsYUFBYSxJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsTUFBTSxJQUFJLENBQUM7WUFDM0QsT0FBTyxFQUFFLENBQUMsQ0FBRSwwR0FBMEc7UUFFMUgsT0FBTyxPQUFPLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQztJQUN6QyxDQUFDO0lBRUQsOEVBQThFO0lBRXZFLHVDQUFXLEdBQWxCLFVBQW1CLFlBQXFDO1FBQ3BELElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSTtZQUFFLE9BQU8sRUFBRSxDQUFDO1FBQ2xDLE9BQU8sWUFBWSxD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